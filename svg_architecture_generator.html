<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ•°å­—äººæ¶æ„å›¾ - SVGçŸ¢é‡å›¾ç”Ÿæˆå™¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .title {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 16px;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: end;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-group label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }
        
        select, input, button {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
        }
        
        .svg-preview {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .svg-container {
            border: 2px dashed #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .download-section {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .arch-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .arch-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            border-color: #667eea;
        }
        
        .arch-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        }
        
        .arch-card h3 {
            color: #2c3e50;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .arch-card p {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .batch-controls {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
        }
        
        .progress-container {
            margin: 20px 0;
            display: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">SVGçŸ¢é‡å›¾ç”Ÿæˆå™¨</h1>
            <p class="subtitle">ç”Ÿæˆé«˜è´¨é‡å¯ç¼©æ”¾çš„æ¶æ„å›¾çŸ¢é‡å›¾</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label>ç”»å¸ƒå°ºå¯¸</label>
                <select id="canvasSize">
                    <option value="1200x800">1200Ã—800 (æ ‡å‡†)</option>
                    <option value="1600x1000">1600Ã—1000 (å¤§å°ºå¯¸)</option>
                    <option value="2000x1200">2000Ã—1200 (è¶…å¤§)</option>
                    <option value="800x600">800Ã—600 (ç´§å‡‘)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>ç»„ä»¶æ ·å¼</label>
                <select id="componentStyle">
                    <option value="rounded">åœ†è§’ç°ä»£</option>
                    <option value="sharp">ç›´è§’ç»å…¸</option>
                    <option value="pill">èƒ¶å›Šå½¢çŠ¶</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>é¢œè‰²ä¸»é¢˜</label>
                <select id="colorTheme">
                    <option value="gradient">æ¸å˜å½©è‰²</option>
                    <option value="monochrome">å•è‰²ç®€æ´</option>
                    <option value="tech">ç§‘æŠ€è“</option>
                    <option value="warm">æš–è‰²è°ƒ</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>å­—ä½“å¤§å°</label>
                <input type="range" id="fontSize" min="10" max="20" value="14">
                <span id="fontSizeValue">14px</span>
            </div>
            
            <button class="btn" onclick="generateCurrentSVG()">
                ğŸ¨ ç”Ÿæˆå½“å‰æ¶æ„å›¾
            </button>
        </div>
        
        <div class="svg-preview">
            <h3>SVGé¢„è§ˆ</h3>
            <div class="svg-container" id="svgContainer">
                <p style="color: #999;">é€‰æ‹©æ¶æ„å›¾åï¼ŒSVGé¢„è§ˆå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</p>
            </div>
            
            <div class="download-section">
                <button class="btn btn-success" onclick="downloadSVG()" id="downloadBtn" disabled>
                    ğŸ“¥ ä¸‹è½½SVGæ–‡ä»¶
                </button>
                <button class="btn btn-info" onclick="downloadPNG()">
                    ğŸ–¼ï¸ è½¬æ¢ä¸ºPNG
                </button>
            </div>
        </div>
        
        <div class="batch-controls">
            <h3 style="margin-bottom: 15px; color: #2c3e50;">æ‰¹é‡ç”Ÿæˆ</h3>
            <p style="color: #666; margin-bottom: 20px;">ä¸€é”®ç”Ÿæˆæ‰€æœ‰11ä¸ªæ¶æ„å›¾çš„SVGæ–‡ä»¶</p>
            <button class="btn btn-success" onclick="batchGenerateAll()">
                ğŸš€ æ‰¹é‡ç”Ÿæˆæ‰€æœ‰SVG
            </button>
            
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">å‡†å¤‡ç”Ÿæˆ...</div>
            </div>
        </div>
        
        <div class="architecture-grid" id="architectureGrid">
            <!-- æ¶æ„å¡ç‰‡å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
        </div>
    </div>
    
    <script>
        // æ¶æ„æ•°æ®
        const architectures = [
            {
                id: "template_config",
                title: "24.2.1 æ¨¡ç‰ˆåŠåŸºç¡€ä¿¡æ¯é…ç½®",
                description: "æ¨¡ç‰ˆå¼•æ“ã€é…ç½®ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ç­‰æ ¸å¿ƒåŠŸèƒ½",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["æ¨¡ç‰ˆç®¡ç†ç•Œé¢", "é…ç½®ç®¡ç†æ§åˆ¶å°", "é¢„è§ˆä¸æµ‹è¯•", "ç‰ˆæœ¬ç®¡ç†"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["æ¨¡ç‰ˆå¼•æ“", "é…ç½®è§£æå™¨", "éªŒè¯æ¡†æ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["JSON SchemaéªŒè¯", "æ¨¡ç‰ˆæ¸²æŸ“å¼•æ“", "é…ç½®çƒ­æ›´æ–°", "ç¼“å­˜ç®¡ç†"] },
                    { name: "æ¨¡å‹å±‚", components: ["é…ç½®æ¨¡å‹", "æ¨¡ç‰ˆåº“", "å…ƒæ•°æ®ç®¡ç†"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["å®¹å™¨åŒ–éƒ¨ç½²", "é…ç½®ä¸­å¿ƒ"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["æ•°æ®åº“å­˜å‚¨", "æ–‡ä»¶å­˜å‚¨", "ç¼“å­˜ç³»ç»Ÿ", "ç›‘æ§å‘Šè­¦"] }
                ]
            },
            {
                id: "scene_management",
                title: "24.2.2 åœºæ™¯ç®¡ç†åŠŸèƒ½",
                description: "åœºæ™¯ç¼–æ’ã€çŠ¶æ€æœºã€äº‹ä»¶é©±åŠ¨ç­‰ç®¡ç†èƒ½åŠ›",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["åœºæ™¯ç¼–è¾‘å™¨", "åœºæ™¯åº“ç®¡ç†", "åœºæ™¯è°ƒåº¦å°", "æ€§èƒ½ç›‘æ§"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["åœºæ™¯ç¼–æ’å¼•æ“", "çŠ¶æ€æœºç®¡ç†", "äº‹ä»¶é©±åŠ¨æ¡†æ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["åœºæ™¯DSLè§£æ", "åŠ¨ä½œæ‰§è¡Œå™¨", "æ¡ä»¶åˆ¤æ–­å¼•æ“", "åœºæ™¯åˆ‡æ¢"] },
                    { name: "æ¨¡å‹å±‚", components: ["åœºæ™¯æ¨¡å‹", "è¡Œä¸ºæ ‘", "å¯¹è¯æµç¨‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["å¾®æœåŠ¡æ¶æ„", "æœåŠ¡å‘ç°"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["åœºæ™¯å­˜å‚¨", "çŠ¶æ€å­˜å‚¨", "æ¶ˆæ¯é˜Ÿåˆ—", "å®šæ—¶è°ƒåº¦"] }
                ]
            },
            {
                id: "human_service",
                title: "24.2.3 çœŸäººé©±åŠ¨åŠå®¢æœ",
                description: "äººæœºåä½œã€æ™ºèƒ½è·¯ç”±ã€è´¨æ£€ç³»ç»Ÿç­‰æœåŠ¡èƒ½åŠ›",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["å®¢æœå·¥ä½œå°", "çœŸäººæ¥ç®¡ç•Œé¢", "çŸ¥è¯†åº“ç®¡ç†", "è´¨æ£€ç³»ç»Ÿ"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["äººæœºåä½œå¼•æ“", "ä¼šè¯ç®¡ç†", "æƒé™æ§åˆ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["æ™ºèƒ½è·¯ç”±", "æƒ…æ„Ÿåˆ†æ", "æ„å›¾è¯†åˆ«", "çŸ¥è¯†æ£€ç´¢"] },
                    { name: "æ¨¡å‹å±‚", components: ["NLPæ¨¡å‹", "æƒ…æ„Ÿè®¡ç®—æ¨¡å‹", "çŸ¥è¯†å›¾è°±"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["å®æ—¶é€šä¿¡", "è´Ÿè½½å‡è¡¡"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["ä¼šè¯å­˜å‚¨", "çŸ¥è¯†åº“", "å®æ—¶æ•°æ®åº“", "éŸ³è§†é¢‘æœåŠ¡"] }
                ]
            },
            {
                id: "interaction_material",
                title: "24.2.4 äº’åŠ¨æ–¹å¼ä¸ç´ æé…ç½®",
                description: "å¤šæ¨¡æ€äº¤äº’ã€ç´ æç¼–æ’ã€å®æ—¶æ¸²æŸ“ç­‰åŠŸèƒ½",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["ç´ æç®¡ç†å¹³å°", "äº’åŠ¨è®¾è®¡å™¨", "æ•ˆæœé¢„è§ˆ", "å‘å¸ƒç®¡ç†"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["å¤šæ¨¡æ€äº¤äº’", "ç´ æç¼–æ’", "æ¸²æŸ“å¼•æ“"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["è¯­éŸ³åˆæˆ", "åŠ¨ä½œç”Ÿæˆ", "è¡¨æƒ…é©±åŠ¨", "æ‰‹åŠ¿è¯†åˆ«"] },
                    { name: "æ¨¡å‹å±‚", components: ["TTSæ¨¡å‹", "åŠ¨ä½œæ•æ‰æ¨¡å‹", "é¢éƒ¨è¡¨æƒ…æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["CDNåŠ é€Ÿ", "åª’ä½“å¤„ç†"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["ç´ æå­˜å‚¨", "GPUé›†ç¾¤", "æµåª’ä½“æœåŠ¡", "è¾¹ç¼˜è®¡ç®—"] }
                ]
            },
            {
                id: "deployment_hardware",
                title: "24.2.5 ä¸Šçº¿åœºæ™¯ä¸ç¡¬ä»¶æ‰©å±•",
                description: "è‡ªåŠ¨éƒ¨ç½²ã€å¼¹æ€§ä¼¸ç¼©ã€æ•…éšœæ¢å¤ç­‰è¿ç»´èƒ½åŠ›",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["éƒ¨ç½²ç®¡ç†å°", "ç¡¬ä»¶ç›‘æ§", "æ‰©å®¹ç­–ç•¥", "è¿ç»´æ§åˆ¶å°"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["è‡ªåŠ¨åŒ–éƒ¨ç½²", "å¼¹æ€§ä¼¸ç¼©", "æ•…éšœæ¢å¤"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["CI/CDæµæ°´çº¿", "å®¹å™¨ç¼–æ’", "èµ„æºè°ƒåº¦", "å¥åº·æ£€æŸ¥"] },
                    { name: "æ¨¡å‹å±‚", components: ["è´Ÿè½½é¢„æµ‹æ¨¡å‹", "èµ„æºä¼˜åŒ–æ¨¡å‹", "æ•…éšœè¯Šæ–­æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["Kubernetes", "Helm Charts"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["GPU/TPUé›†ç¾¤", "å­˜å‚¨é›†ç¾¤", "ç½‘ç»œè®¾å¤‡", "ç›‘æ§ç³»ç»Ÿ"] }
                ]
            },
            {
                id: "marketing_prediction",
                title: "24.2.6 æœåŠ¡ä¸è¥é”€é¢„æµ‹",
                description: "é¢„æµ‹å¼•æ“ã€æ¨èç³»ç»Ÿã€A/Bæµ‹è¯•ç­‰æ™ºèƒ½åˆ†æ",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["é¢„æµ‹åˆ†æå¹³å°", "è¥é”€ç­–ç•¥åˆ¶å®š", "æ•ˆæœè¯„ä¼°", "å†³ç­–æ”¯æŒ"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["é¢„æµ‹å¼•æ“", "æ¨èç³»ç»Ÿ", "A/Bæµ‹è¯•æ¡†æ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["ç‰¹å¾å·¥ç¨‹", "æ¨¡å‹è®­ç»ƒ", "åœ¨çº¿æ¨ç†", "æ•ˆæœè¿½è¸ª"] },
                    { name: "æ¨¡å‹å±‚", components: ["æ—¶é—´åºåˆ—é¢„æµ‹", "ç”¨æˆ·ç”»åƒæ¨¡å‹", "è½¬åŒ–ç‡é¢„æµ‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["MLOpså¹³å°", "æ¨¡å‹æœåŠ¡"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["æ•°æ®æ¹–", "ç‰¹å¾å­˜å‚¨", "æ¨¡å‹ä»“åº“", "è®¡ç®—é›†ç¾¤"] }
                ]
            },
            {
                id: "strategy_optimization",
                title: "24.2.7 å®šæœŸç­–ç•¥ä¼˜åŒ–",
                description: "ç­–ç•¥å¼•æ“ã€å¼ºåŒ–å­¦ä¹ ã€å¤šç›®æ ‡ä¼˜åŒ–ç­‰æ™ºèƒ½å†³ç­–",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["ç­–ç•¥é…ç½®å°", "ä¼˜åŒ–å»ºè®®", "æ•ˆæœå¯¹æ¯”", "è‡ªåŠ¨åŒ–è°ƒä¼˜"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["ç­–ç•¥å¼•æ“", "ä¼˜åŒ–ç®—æ³•", "è¯„ä¼°æ¡†æ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["å¼ºåŒ–å­¦ä¹ ", "é—ä¼ ç®—æ³•", "è´å¶æ–¯ä¼˜åŒ–", "å¤šç›®æ ‡ä¼˜åŒ–"] },
                    { name: "æ¨¡å‹å±‚", components: ["ç­–ç•¥ä¼˜åŒ–æ¨¡å‹", "æ•ˆæœè¯„ä¼°æ¨¡å‹", "å‚æ•°è°ƒä¼˜æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["å®šæ—¶ä»»åŠ¡", "åˆ†å¸ƒå¼è®¡ç®—"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["å†å²æ•°æ®", "å®éªŒå¹³å°", "æŒ‡æ ‡å­˜å‚¨", "è®¡ç®—èµ„æº"] }
                ]
            },
            {
                id: "stability_improvement",
                title: "24.2.8 ç¨³å®šæ€§æå‡",
                description: "ç†”æ–­æœºåˆ¶ã€å¼‚å¸¸æ£€æµ‹ã€æ··æ²Œå·¥ç¨‹ç­‰å¯é æ€§ä¿éšœ",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["ç¨³å®šæ€§ç›‘æ§", "æ•…éšœé¢„è­¦", "åº”æ€¥å“åº”", "SLAç®¡ç†"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["ç†”æ–­æœºåˆ¶", "é™æµæ§åˆ¶", "é™çº§ç­–ç•¥"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["å¼‚å¸¸æ£€æµ‹", "è‡ªåŠ¨æ¢å¤", "å‹åŠ›æµ‹è¯•", "æ··æ²Œå·¥ç¨‹"] },
                    { name: "æ¨¡å‹å±‚", components: ["å¼‚å¸¸æ£€æµ‹æ¨¡å‹", "æ•…éšœé¢„æµ‹æ¨¡å‹", "æ€§èƒ½è¯„ä¼°æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["æœåŠ¡ç½‘æ ¼", "å¯è§‚æµ‹æ€§"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["å¤šå¯ç”¨åŒº", "å¤‡ä»½ç³»ç»Ÿ", "ç›‘æ§å‘Šè­¦", "æ—¥å¿—èšåˆ"] }
                ]
            },
            {
                id: "log_permission",
                title: "24.2.9 æ—¥å¿—ä¸æƒé™å»ºè®¾",
                description: "RBACæƒé™ã€æ—¥å¿—èšåˆã€å®¡è®¡åˆè§„ç­‰å®‰å…¨ç®¡ç†",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["æƒé™ç®¡ç†å°", "æ—¥å¿—æŸ¥è¯¢", "å®¡è®¡æŠ¥å‘Š", "åˆè§„æ£€æŸ¥"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["RBACæƒé™", "æ—¥å¿—æ”¶é›†", "å®¡è®¡æ¡†æ¶"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["èº«ä»½è®¤è¯", "æˆæƒæ§åˆ¶", "æ—¥å¿—è§£æ", "æ•°æ®è„±æ•"] },
                    { name: "æ¨¡å‹å±‚", components: ["è¡Œä¸ºåˆ†ææ¨¡å‹", "é£é™©è¯„ä¼°æ¨¡å‹", "å¼‚å¸¸è¡Œä¸ºæ£€æµ‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["ç»Ÿä¸€è®¤è¯", "æ—¥å¿—èšåˆ"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["LDAP/AD", "æ—¥å¿—å­˜å‚¨", "æœç´¢å¼•æ“", "å¤‡ä»½å½’æ¡£"] }
                ]
            },
            {
                id: "scene_upgrade",
                title: "24.2.10 åœºæ™¯å‡çº§",
                description: "å‡çº§å¼•æ“ã€ç°åº¦å‘å¸ƒã€æ•°æ®è¿ç§»ç­‰å‡çº§ç®¡ç†",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["å‡çº§ç®¡ç†å°", "ç‰ˆæœ¬æ§åˆ¶", "å›æ»šæœºåˆ¶", "å…¼å®¹æ€§æ£€æŸ¥"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["å‡çº§å¼•æ“", "è¿ç§»å·¥å…·", "ç°åº¦å‘å¸ƒ"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["æ•°æ®è¿ç§»", "é…ç½®è¿ç§»", "æœåŠ¡åˆ‡æ¢", "ä¾èµ–ç®¡ç†"] },
                    { name: "æ¨¡å‹å±‚", components: ["ç‰ˆæœ¬å…¼å®¹æ¨¡å‹", "å½±å“è¯„ä¼°æ¨¡å‹", "å‡çº§å†³ç­–æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["è“ç»¿éƒ¨ç½²", "é‡‘ä¸é›€å‘å¸ƒ"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["ç‰ˆæœ¬ä»“åº“", "å¤‡ä»½å­˜å‚¨", "é•œåƒä»“åº“", "é…ç½®ä¸­å¿ƒ"] }
                ]
            },
            {
                id: "system_capability",
                title: "24.2.11 ç³»ç»Ÿå»ºè®¾èƒ½åŠ›",
                description: "å¾®æœåŠ¡æ¡†æ¶ã€DevOpså¹³å°ã€èƒ½åŠ›å¼€æ”¾ç­‰åŸºç¡€èƒ½åŠ›",
                layers: [
                    { name: "åº”ç”¨å±‚", components: ["å¼€å‘è€…é—¨æˆ·", "èƒ½åŠ›å¼€æ”¾å¹³å°", "APIç½‘å…³", "SDK/å·¥å…·åŒ…"] },
                    { name: "åº”ç”¨æ¡†æ¶å±‚", components: ["å¾®æœåŠ¡æ¡†æ¶", "ç»„ä»¶åŒ–æ¶æ„", "æ’ä»¶ç³»ç»Ÿ"] },
                    { name: "åº”ç”¨æŠ€æœ¯å±‚", components: ["æœåŠ¡æ²»ç†", "é…ç½®ç®¡ç†", "é“¾è·¯è¿½è¸ª", "æ€§èƒ½è°ƒä¼˜"] },
                    { name: "æ¨¡å‹å±‚", components: ["æ¨¡å‹å·¥å‚", "ç®—æ³•åº“", "èƒ½åŠ›æ¨¡å‹"] },
                    { name: "äº‘åŸç”Ÿå±‚", components: ["DevOpså¹³å°", "å®¹å™¨å¹³å°"] },
                    { name: "åŸºç¡€è®¾æ–½å±‚", components: ["å¼€å‘ç¯å¢ƒ", "æµ‹è¯•ç¯å¢ƒ", "ç”Ÿäº§ç¯å¢ƒ", "å·¥å…·é“¾"] }
                ]
            }
        ];
        
        let selectedArchitecture = null;
        let currentSVG = null;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeControls();
            renderArchitectureGrid();
        });
        
        // åˆå§‹åŒ–æ§ä»¶
        function initializeControls() {
            const fontSizeSlider = document.getElementById('fontSize');
            const fontSizeValue = document.getElementById('fontSizeValue');
            
            fontSizeSlider.addEventListener('input', function() {
                fontSizeValue.textContent = this.value + 'px';
            });
        }
        
        // æ¸²æŸ“æ¶æ„ç½‘æ ¼
        function renderArchitectureGrid() {
            const grid = document.getElementById('architectureGrid');
            grid.innerHTML = '';
            
            architectures.forEach((arch, index) => {
                const card = document.createElement('div');
                card.className = 'arch-card';
                card.innerHTML = `
                    <h3>${arch.title}</h3>
                    <p>${arch.description}</p>
                `;
                
                card.addEventListener('click', () => selectArchitecture(index));
                grid.appendChild(card);
            });
        }
        
        // é€‰æ‹©æ¶æ„
        function selectArchitecture(index) {
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.arch-card').forEach((card, i) => {
                card.classList.toggle('selected', i === index);
            });
            
            selectedArchitecture = architectures[index];
            generateCurrentSVG();
        }
        
        // ç”Ÿæˆå½“å‰æ¶æ„çš„SVG
        function generateCurrentSVG() {
            if (!selectedArchitecture) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæ¶æ„å›¾ï¼');
                return;
            }
            
            const canvasSize = document.getElementById('canvasSize').value;
            const componentStyle = document.getElementById('componentStyle').value;
            const colorTheme = document.getElementById('colorTheme').value;
            const fontSize = parseInt(document.getElementById('fontSize').value);
            
            const [width, height] = canvasSize.split('x').map(Number);
            
            const svg = createSVG(selectedArchitecture, width, height, componentStyle, colorTheme, fontSize);
            
            const svgContainer = document.getElementById('svgContainer');
            svgContainer.innerHTML = svg;
            
            currentSVG = svg;
            document.getElementById('downloadBtn').disabled = false;
        }
        
        // åˆ›å»ºSVG
        function createSVG(architecture, width, height, style, theme, fontSize) {
            const colors = getColorScheme(theme);
            const cornerRadius = style === 'rounded' ? 12 : style === 'pill' ? 25 : 2;
            
            let svgContent = `
                <svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">
                    <defs>
                        ${colors.gradients}
                    </defs>
                    
                    <!-- èƒŒæ™¯ -->
                    <rect width="100%" height="100%" fill="${colors.background}"/>
                    
                    <!-- è£…é¥°æ€§èƒŒæ™¯å›¾æ¡ˆ -->
                    <defs>
                        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse" opacity="0.05">
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="${colors.grid}" stroke-width="1"/>
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#grid)"/>
                    
                    <!-- æ ‡é¢˜ -->
                    <text x="${width/2}" y="60" text-anchor="middle" font-family="Inter, sans-serif" font-size="${fontSize + 10}" font-weight="bold" fill="${colors.title}">
                        ${architecture.title}
                    </text>
                    
                    <!-- é¡¶éƒ¨è£…é¥°çº¿ -->
                    <rect x="100" y="80" width="${width-200}" height="4" fill="url(#topGradient)" rx="2"/>
            `;
            
            // è®¡ç®—å±‚çº§å¸ƒå±€
            const layerHeight = 80;
            const startY = 120;
            const layerLabelWidth = 160;
            const componentHeight = 45;
            const componentSpacing = 15;
            
            architecture.layers.forEach((layer, layerIndex) => {
                const yPos = startY + (layerIndex * layerHeight);
                
                // å±‚çº§æ ‡ç­¾
                svgContent += `
                    <rect x="50" y="${yPos}" width="${layerLabelWidth}" height="${componentHeight}" rx="${cornerRadius}" 
                          fill="${colors.layers[layerIndex]}" opacity="0.9" 
                          stroke="${colors.layerBorders[layerIndex]}" stroke-width="2"/>
                    <text x="${50 + layerLabelWidth/2}" y="${yPos + componentHeight/2 + 5}" text-anchor="middle" 
                          font-family="Inter, sans-serif" font-size="${fontSize}" font-weight="600" fill="white">
                        ${layer.name}
                    </text>
                `;
                
                // ç»„ä»¶
                let xPos = layerLabelWidth + 80;
                const availableWidth = width - xPos - 50;
                const componentWidth = Math.min(180, (availableWidth - (layer.components.length - 1) * componentSpacing) / layer.components.length);
                
                layer.components.forEach((component, compIndex) => {
                    svgContent += `
                        <rect x="${xPos}" y="${yPos}" width="${componentWidth}" height="${componentHeight}" rx="${cornerRadius}" 
                              fill="${colors.components[layerIndex]}" opacity="0.8"
                              stroke="${colors.componentBorders[layerIndex]}" stroke-width="1.5"/>
                        <text x="${xPos + componentWidth/2}" y="${yPos + componentHeight/2 + 5}" text-anchor="middle" 
                              font-family="Inter, sans-serif" font-size="${fontSize - 1}" font-weight="500" 
                              fill="${colors.componentText}">
                            ${wrapText(component, componentWidth - 20, fontSize - 1)}
                        </text>
                    `;
                    xPos += componentWidth + componentSpacing;
                });
                
                // è¿æ¥çº¿
                if (layerIndex < architecture.layers.length - 1) {
                    const lineY = yPos + componentHeight + 15;
                    svgContent += `
                        <line x1="${50 + layerLabelWidth/2}" y1="${lineY}" x2="${50 + layerLabelWidth/2}" y2="${lineY + 10}" 
                              stroke="${colors.connector}" stroke-width="2" opacity="0.6"/>
                        <polygon points="${50 + layerLabelWidth/2 - 4},${lineY + 6} ${50 + layerLabelWidth/2 + 4},${lineY + 6} ${50 + layerLabelWidth/2},${lineY + 12}" 
                                 fill="${colors.connector}" opacity="0.6"/>
                    `;
                }
            });
            
            // åº•éƒ¨ä¿¡æ¯
            svgContent += `
                <text x="${width/2}" y="${height - 30}" text-anchor="middle" font-family="Inter, sans-serif" 
                      font-size="${fontSize - 2}" fill="${colors.subtitle}" opacity="0.7">
                    AIæ•°å­—äººæŠ€æœ¯æ¶æ„ - ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString()}
                </text>
            `;
            
            svgContent += '</svg>';
            return svgContent;
        }
        
        // è·å–é¢œè‰²æ–¹æ¡ˆ
        function getColorScheme(theme) {
            const schemes = {
                gradient: {
                    background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)',
                    title: '#2c3e50',
                    subtitle: '#6c757d',
                    grid: '#dee2e6',
                    connector: '#6c757d',
                    componentText: '#2c3e50',
                    layers: ['#ff6b6b', '#ff922b', '#ffc107', '#28a745', '#007bff', '#6f42c1'],
                    layerBorders: ['#ee5a52', '#fc7303', '#ffb300', '#20c997', '#0056b3', '#5a2d91'],
                    components: ['#ff9a9e', '#fcb69f', '#f9ca24', '#5cb85c', '#3498db', '#7b1fa2'],
                    componentBorders: ['#ff6b6b', '#ff922b', '#ffc107', '#28a745', '#007bff', '#6f42c1'],
                    gradients: `
                        <linearGradient id="topGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#ff6b6b"/>
                            <stop offset="20%" style="stop-color:#ff922b"/>
                            <stop offset="40%" style="stop-color:#ffc107"/>
                            <stop offset="60%" style="stop-color:#28a745"/>
                            <stop offset="80%" style="stop-color:#007bff"/>
                            <stop offset="100%" style="stop-color:#6f42c1"/>
                        </linearGradient>
                    `
                },
                monochrome: {
                    background: '#ffffff',
                    title: '#212529',
                    subtitle: '#6c757d',
                    grid: '#e9ecef',
                    connector: '#495057',
                    componentText: '#212529',
                    layers: Array(6).fill('#495057'),
                    layerBorders: Array(6).fill('#343a40'),
                    components: Array(6).fill('#f8f9fa'),
                    componentBorders: Array(6).fill('#dee2e6'),
                    gradients: `
                        <linearGradient id="topGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#495057"/>
                            <stop offset="100%" style="stop-color:#212529"/>
                        </linearGradient>
                    `
                },
                tech: {
                    background: 'linear-gradient(135deg, #0a0e27 0%, #1a1a2e 100%)',
                    title: '#64ffda',
                    subtitle: '#90a4ae',
                    grid: '#263238',
                    connector: '#64ffda',
                    componentText: '#ffffff',
                    layers: ['#1e88e5', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'],
                    layerBorders: ['#42a5f5', '#2196f3', '#1e88e5', '#1976d2', '#1565c0', '#0d47a1'],
                    components: ['#263238', '#37474f', '#455a64', '#546e7a', '#607d8b', '#78909c'],
                    componentBorders: ['#64ffda', '#4fc3f7', '#29b6f6', '#03a9f4', '#039be5', '#0288d1'],
                    gradients: `
                        <linearGradient id="topGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#64ffda"/>
                            <stop offset="50%" style="stop-color:#4fc3f7"/>
                            <stop offset="100%" style="stop-color:#29b6f6"/>
                        </linearGradient>
                    `
                },
                warm: {
                    background: 'linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%)',
                    title: '#e65100',
                    subtitle: '#bf360c',
                    grid: '#ffcc02',
                    connector: '#ff9800',
                    componentText: '#3e2723',
                    layers: ['#ff5722', '#ff9800', '#ffc107', '#ffeb3b', '#cddc39', '#8bc34a'],
                    layerBorders: ['#d84315', '#f57c00', '#ff8f00', '#ff6f00', '#9e9d24', '#689f38'],
                    components: ['#ffccbc', '#ffe0b2', '#fff2c5', '#fff9c4', '#f0f4c3', '#dcedc8'],
                    componentBorders: ['#ff8a65', '#ffb74d', '#ffd54f', '#ffee58', '#dce775', '#aed581'],
                    gradients: `
                        <linearGradient id="topGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#ff5722"/>
                            <stop offset="25%" style="stop-color:#ff9800"/>
                            <stop offset="50%" style="stop-color:#ffc107"/>
                            <stop offset="75%" style="stop-color:#ffeb3b"/>
                            <stop offset="100%" style="stop-color:#cddc39"/>
                        </linearGradient>
                    `
                }
            };
            
            return schemes[theme] || schemes.gradient;
        }
        
        // æ–‡æœ¬æ¢è¡Œå¤„ç†
        function wrapText(text, maxWidth, fontSize) {
            // ç®€åŒ–ç‰ˆæ–‡æœ¬æ¢è¡Œï¼Œå®é™…SVGä¸­éœ€è¦ä½¿ç”¨tspan
            if (text.length > 12) {
                return text.substring(0, 10) + '...';
            }
            return text;
        }
        
        // ä¸‹è½½SVG
        function downloadSVG() {
            if (!currentSVG) return;
            
            const blob = new Blob([currentSVG], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.download = `${selectedArchitecture.title}.svg`;
            link.href = url;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
        
        // è½¬æ¢ä¸ºPNG
        function downloadPNG() {
            if (!currentSVG) return;
            
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            const canvasSize = document.getElementById('canvasSize').value;
            const [width, height] = canvasSize.split('x').map(Number);
            
            canvas.width = width * 2; // é«˜DPI
            canvas.height = height * 2;
            ctx.scale(2, 2);
            
            img.onload = function() {
                ctx.drawImage(img, 0, 0, width, height);
                
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.download = `${selectedArchitecture.title}.png`;
                    link.href = url;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                });
            };
            
            const svgBlob = new Blob([currentSVG], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(svgBlob);
            img.src = url;
        }
        
        // æ‰¹é‡ç”Ÿæˆæ‰€æœ‰æ¶æ„å›¾
        async function batchGenerateAll() {
            const progressContainer = document.getElementById('progressContainer');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            progressContainer.style.display = 'block';
            progressFill.style.width = '0%';
            
            const canvasSize = document.getElementById('canvasSize').value;
            const componentStyle = document.getElementById('componentStyle').value;
            const colorTheme = document.getElementById('colorTheme').value;
            const fontSize = parseInt(document.getElementById('fontSize').value);
            
            const [width, height] = canvasSize.split('x').map(Number);
            
            for (let i = 0; i < architectures.length; i++) {
                const arch = architectures[i];
                const progress = ((i + 1) / architectures.length) * 100;
                
                progressFill.style.width = progress + '%';
                progressText.textContent = `æ­£åœ¨ç”Ÿæˆ: ${arch.title} (${i + 1}/${architectures.length})`;
                
                const svg = createSVG(arch, width, height, componentStyle, colorTheme, fontSize);
                
                // ä¸‹è½½SVG
                const blob = new Blob([svg], { type: 'image/svg+xml' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = `${arch.title}.svg`;
                link.href = url;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                // çŸ­æš‚å»¶è¿Ÿï¼Œé¿å…æµè§ˆå™¨é˜»å¡
                await new Promise(resolve => setTimeout(resolve, 200));
            }
            
            progressText.textContent = 'âœ… æ‰¹é‡ç”Ÿæˆå®Œæˆï¼';
            setTimeout(() => {
                progressContainer.style.display = 'none';
            }, 2000);
        }
    </script>
</body>
</html>